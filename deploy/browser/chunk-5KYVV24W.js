import{A as he,B as fe,C as ge,D as _e,E as ve,F as Se,G as Ce,H as xe,I as Te}from"./chunk-4UF54RG5.js";import{B as L,N as A,O as k,S as ue,T as ze,V as ye,W as De,Y as be,Z as Ie,s as de}from"./chunk-PP3ZORCC.js";import"./chunk-HEIRHBRI.js";import{h as pe,s as me}from"./chunk-UFH2WG6D.js";import{$b as w,$c as V,Gc as P,Ha as R,Hc as re,Ka as $,Kb as U,Lb as C,Mb as x,Oc as f,Pb as X,Pc as g,Qb as Z,Rb as h,Sb as s,Tb as m,Ub as c,Wc as se,cb as Q,d as B,eb as a,ed as ce,fc as y,hc as d,ic as J,id as le,jb as W,jc as K,lb as q,lc as Y,ma as H,mc as ee,nc as te,q as M,qb as E,r as _,rc as ne,sa as v,sc as ie,ta as S,tc as oe,vc as ae,wb as b,wc as u,xc as T,yc as N}from"./chunk-5AO6IZ5C.js";var Ae=["textEl"],ke=["*"];function Ge(t,o){if(t&1&&c(0,"nz-icon",1),t&2){let e=d();h("nzType",e.nzIcon)}}function Be(t,o){if(t&1){let e=w();s(0,"img",4),y("error",function(l){v(e);let D=d();return S(D.imgError(l))}),m()}if(t&2){let e=d();h("src",e.nzSrc,Q),U("srcset",e.nzSrcSet)("alt",e.nzAlt)("loading",e.nzLoading()||"eager")("fetchpriority",e.nzFetchPriority()||"auto")}}function He(t,o){if(t&1&&(s(0,"span",3,0),u(2),m()),t&2){let e=d();a(2),T(e.nzText)}}var Pe="avatar",Ne=(()=>{var z;let t,o=[],e=[],r,l=[],D=[],F,j=[],O=[];return z=class{_nzModuleName=Pe;nzShape=_(this,o,"circle");nzSize=(_(this,e),_(this,l,"default"));nzGap=(_(this,D),_(this,j,4));nzText=_(this,O);nzSrc;nzSrcSet;nzAlt;nzIcon;nzLoading=V();nzFetchPriority=V();nzError=new W;hasText=!1;hasSrc=!0;hasIcon=!1;customSize=null;textEl;el=H($).nativeElement;cdr=H(ce);constructor(){q(()=>this.calcStringSize())}imgError(p){this.nzError.emit(p),p.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let p=this.textEl.nativeElement,i=p.offsetWidth,n=this.el.getBoundingClientRect?.().width??0,I=this.nzGap*2<n?this.nzGap*2:8,Ee=n-I<i?(n-I)/i:1;p.style.transform=`scale(${Ee}) translateX(-50%)`,p.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=de(this.nzSize):this.customSize=null,this.cdr.markForCheck()}},(()=>{let p=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[L()],r=[L()],F=[L()],M(null,null,t,{kind:"field",name:"nzShape",static:!1,private:!1,access:{has:i=>"nzShape"in i,get:i=>i.nzShape,set:(i,n)=>{i.nzShape=n}},metadata:p},o,e),M(null,null,r,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:i=>"nzSize"in i,get:i=>i.nzSize,set:(i,n)=>{i.nzSize=n}},metadata:p},l,D),M(null,null,F,{kind:"field",name:"nzGap",static:!1,private:!1,access:{has:i=>"nzGap"in i,get:i=>i.nzGap,set:(i,n)=>{i.nzGap=n}},metadata:p},j,O),p&&Object.defineProperty(z,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p})})(),B(z,"\u0275fac",function(i){return new(i||z)}),B(z,"\u0275cmp",b({type:z,selectors:[["nz-avatar"]],viewQuery:function(i,n){if(i&1&&Y(Ae,5),i&2){let I;ee(I=te())&&(n.textEl=I.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(i,n){i&2&&(ie("width",n.customSize)("height",n.customSize)("line-height",n.customSize)("font-size",n.hasIcon&&n.customSize?n.nzSize/2:null,"px"),oe("ant-avatar-lg",n.nzSize==="large")("ant-avatar-sm",n.nzSize==="small")("ant-avatar-square",n.nzShape==="square")("ant-avatar-circle",n.nzShape==="circle")("ant-avatar-icon",n.nzIcon)("ant-avatar-image",n.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",le],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon",nzLoading:[1,"nzLoading"],nzFetchPriority:[1,"nzFetchPriority"]},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[R],ngContentSelectors:ke,decls:4,vars:1,consts:[["textEl",""],[3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(i,n){i&1&&(J(),C(0,Ge,1,1,"nz-icon",1)(1,Be,1,5,"img",2)(2,He,3,1,"span",3),K(3)),i&2&&x(n.nzIcon&&n.hasIcon?0:n.nzSrc&&n.hasSrc?1:n.nzText&&n.hasText?2:-1)},dependencies:[k,A],encapsulation:2,changeDetection:0})),z})();var Fe=(t,o)=>o.code;function je(t,o){if(t&1){let e=w();s(0,"li",17),y("click",function(){let l=v(e).$implicit,D=d(2);return S(D.changeLanguage(l.code))}),c(1,"span",18),u(2),m()}if(t&2){let e=o.$implicit,r=d(2);h("nzDisabled",e.code===r.defaultLang),a(),ae(re("flag-icon flag-icon-",e.countryCode)),a(),N(" ",e.name," ")}}function Oe(t,o){t&1&&c(0,"nz-icon",13)}function Re(t,o){t&1&&c(0,"nz-icon",13)}function $e(t,o){t&1&&(c(0,"nz-icon",19),u(1),f(2,"transloco")),t&2&&(a(),N(" ",g(2,1,"domain.dashboard.pages.dashboard.buttonLogout")," "))}function Qe(t,o){t&1&&(s(0,"div",16),c(1,"nz-spin",20),s(2,"span",21),u(3),f(4,"transloco"),m()()),t&2&&(a(3),T(g(4,1,"core.components.header.logoutMessage")))}function We(t,o){if(t&1){let e=w();s(0,"div",1)(1,"span"),u(2),f(3,"transloco"),m(),s(4,"a",2),c(5,"nz-avatar",3),m(),s(6,"nz-dropdown-menu",null,0)(8,"ul",4)(9,"li",5)(10,"span",6),u(11),f(12,"transloco"),m(),c(13,"br"),s(14,"span",7),u(15),m()(),c(16,"li",8),s(17,"li",9),f(18,"transloco"),s(19,"ul",4),X(20,je,3,5,"li",10,Fe),m()(),s(22,"li",9),f(23,"transloco"),s(24,"ul",4)(25,"li",11),y("click",function(){v(e);let l=d();return S(l.onToggle())}),c(26,"nz-icon",12),u(27),f(28,"transloco"),C(29,Oe,1,0,"nz-icon",13),m(),s(30,"li",11),y("click",function(){v(e);let l=d();return S(l.onToggle())}),c(31,"nz-icon",14),u(32),f(33,"transloco"),C(34,Re,1,0,"nz-icon",13),m()()(),c(35,"li",8),s(36,"li",15),y("click",function(){v(e);let l=d();return S(!l.isLoading&&l.logout())}),C(37,$e,3,3)(38,Qe,5,3,"div",16),m()()()()}if(t&2){let e=ne(7),r=d();a(2),T(g(3,15,"core.components.header.title")),a(2),h("nzDropdownMenu",e),a(7),T(g(12,17,"core.components.header.user")),a(4),T(o.usr_email),a(2),h("nzTitle",P(g(18,19,"core.components.header.changeLanguage"))),a(3),Z(r.languages),a(2),h("nzTitle",P(g(23,21,"core.components.header.changeTheme"))),a(3),h("nzDisabled",!r.isDark()),a(2),N(" ",g(28,23,"core.components.buttonTheme.lightMode")," "),a(2),x(r.isDark()?-1:29),a(),h("nzDisabled",r.isDark()),a(2),N(" ",g(33,25,"core.components.buttonTheme.darkMode")," "),a(2),x(r.isDark()?34:-1),a(3),x(r.isLoading?38:37)}}var G=class t{constructor(o,e,r){this.authService=o;this.themeService=e;this.translateService=r;this.$user=this.authService.currentUser$}environment=ye;$user;isLoading=!1;defaultLang="en";languages=[];isDark=se(()=>this.themeService.theme()==="dark");ngOnInit(){this.defaultLang=this.translateService.getActiveLang(),this.languages=this.translateService.getAvailableLanguages()}changeLanguage(o){this.translateService.changeLanguage(o),this.defaultLang=o}getCountryCode(o){return this.translateService.getCountryCode(o)}getCurrentLanguage(){return this.translateService.getCurrentLanguage()}onToggle(){this.themeService.toggleTheme()}logout(){this.isLoading=!0,this.authService.logout().subscribe({next:()=>{this.isLoading=!1},error:()=>{this.isLoading=!1}})}static \u0275fac=function(e){return new(e||t)(E(Ie),E(be),E(Te))};static \u0275cmp=b({type:t,selectors:[["app-header"]],decls:2,vars:3,consts:[["menu","nzDropdownMenu"],[1,"header","p-2"],["nz-dropdown","","nzPlacement","bottomRight",3,"nzDropdownMenu"],["nzSize","large","nzIcon","setting","nzShape","circle"],["nz-menu","","nzSelectable",""],["nz-menu-item",""],[2,"font-weight","700"],[2,"color","#5f6875"],["nz-menu-divider",""],["nz-submenu","",3,"nzTitle"],["nz-menu-item","",3,"nzDisabled"],["nz-menu-item","",1,"theme-item",3,"click","nzDisabled"],["nzType","sun","nzTheme","outline",1,"theme-icon"],["nzType","check",1,"theme-check"],["nzType","moon","nzTheme","outline",1,"theme-icon"],["nz-menu-item","","nzDanger","",3,"click"],[2,"display","flex","justify-content","space-between","min-width","100%"],["nz-menu-item","",3,"click","nzDisabled"],[2,"margin-right","8px"],["nzType","logout","nzTheme","outline"],["nzSize","small",2,"margin-left","8px"],[2,"margin-left","20px"]],template:function(e,r){if(e&1&&(C(0,We,39,27,"div",1),f(1,"async")),e&2){let l;x((l=g(1,1,r.$user))?0:-1,l)}},dependencies:[ze,xe,ge,he,fe,_e,ve,Se,Ce,Ne,k,A,De,ue,pe],styles:[".header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;display:flex;align-items:center;justify-content:space-between}"]})};var qe=["class","layout"],Me=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-dashboard",8,"layout"]],attrs:qe,decls:3,vars:0,consts:[[1,"p-2","dashboard-content"]],template:function(e,r){e&1&&(c(0,"app-header"),s(1,"div",0),c(2,"router-outlet"),m())},dependencies:[me,G],encapsulation:2})};export{Me as DashboardLayoutComponent};
