import{A as he,a as W,b as $,c as O,d as H,e as J,f as K,g as Q,h as X,i as Y,j as Z,k as ee,l as ie,m as te,p as oe,q as re,r as ne,s as ae,t as le,u as me,v as pe,w as ue,x as fe,y as ge,z as ze}from"./chunk-Z4NX62Y2.js";import{A as G,B as U,d as y,f as z,h as B,i as M,l as w,n as D,o as P,r as R,s as k,t as A,x as j,y as q}from"./chunk-44NDUIZF.js";import"./chunk-WRED3TIW.js";import{O as V,R as se,S as ce,T as de,Z as ve}from"./chunk-N6543OJ6.js";import"./chunk-HEIRHBRI.js";import{u as F}from"./chunk-UFH2WG6D.js";import{$b as _,Cb as N,Gc as I,Oc as o,Pc as r,Rb as c,Rc as E,Sb as n,Tb as a,Ub as d,eb as t,fc as L,ma as h,qb as u,rc as S,sa as C,ta as x,wb as T,wc as l,xc as f,yc as v,zc as b}from"./chunk-5AO6IZ5C.js";var Se=["class","page"];function be(m,i){if(m&1&&(l(0),o(1,"transloco"),o(2,"transloco")),m&2){let e=i.$implicit;b(" ",e.errors!=null&&e.errors.required?r(1,2,"domain.auth.pages.login.errorEmailRequired"):""," ",e.errors!=null&&e.errors.email?r(2,4,"domain.auth.pages.login.errorEmailInvalid"):""," ")}}function Ee(m,i){if(m&1&&(l(0),o(1,"transloco"),o(2,"transloco")),m&2){let e=i.$implicit;b(" ",e.errors!=null&&e.errors.required?r(1,2,"domain.auth.pages.login.errorPasswordRequired"):""," ",e.errors!=null&&e.errors.minlength?r(2,4,"domain.auth.pages.login.errorPasswordMinLength"):""," ")}}var Ne=class m{constructor(i,e,p,s){this.authService=i;this.notificationService=e;this.translocoService=p;this.errorTranslationService=s}loadingService=h(pe);isLoading=!1;fb=h(R);validateForm=this.fb.group({usr_email:this.fb.control("",[z.required,z.email]),usr_password:this.fb.control("",[z.required])});submitForm(){if(this.validateForm.valid){this.isLoading=!0;let{usr_email:i,usr_password:e}=this.validateForm.value;i&&e&&this.authService.login(i,e).subscribe({next:()=>{this.isLoading=!1},error:p=>{let{title:s,message:g}=this.errorTranslationService.translateBackendError(p);this.notificationService.error(s,g),this.isLoading=!1}})}else Object.values(this.validateForm.controls).forEach(i=>{i.invalid&&i.markAsDirty(),i.updateValueAndValidity()})}static \u0275fac=function(e){return new(e||m)(u(ve),u(ze),u(se),u(he))};static \u0275cmp=T({type:m,selectors:[["app-login",8,"page"]],attrs:Se,decls:43,vars:31,consts:[["emailErrorTpl",""],["passwordErrorTpl",""],[1,"auth-card"],[1,"text-center"],[1,"text-center","mt-2"],["nz-form","",1,"mt-2",3,"ngSubmit","nzLayout","formGroup"],[1,"custom-label"],[3,"nzErrorTip"],["nz-input","","formControlName","usr_email",3,"placeholder"],[1,"mt-3"],["nz-input","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","usr_password"],[1,"text-end","mt-1"],[1,"mt-2"],["nz-button","","nzType","primary","nzBlock","",3,"nzLoading","disabled"],[1,"text-center","mt-1"],[2,"color","var(--light-text-gray) !important"],["routerLink","/auth/create-account"],[2,"display","flex","align-items","center","justify-content","space-between"]],template:function(e,p){if(e&1){let s=_();n(0,"div",2)(1,"h1",3),l(2),o(3,"transloco"),a(),n(4,"h2",4),l(5),o(6,"transloco"),a(),n(7,"form",5),L("ngSubmit",function(){return C(s),x(p.submitForm())}),n(8,"nz-form-item")(9,"nz-form-label",6),l(10),o(11,"transloco"),a(),n(12,"nz-form-control",7),d(13,"input",8),o(14,"transloco"),N(15,be,3,6,"ng-template",null,0,E),a()(),n(17,"nz-form-item",9)(18,"nz-form-label"),l(19),o(20,"transloco"),a(),n(21,"nz-form-control",7)(22,"nz-input-password"),d(23,"input",10),a(),N(24,Ee,3,6,"ng-template",null,1,E),a()(),d(26,"div",11),n(27,"nz-form-item",12)(28,"nz-form-control")(29,"button",13),l(30),o(31,"transloco"),a()()(),n(32,"div",14)(33,"span",15),l(34),o(35,"transloco"),a(),n(36,"a",16),l(37),o(38,"transloco"),a()()(),d(39,"nz-divider"),n(40,"div",17),d(41,"app-button-language")(42,"app-button-theme"),a()()}if(e&2){let s=S(16),g=S(25);t(2),f(r(3,15,"domain.auth.pages.login.loginTitle")),t(3),f(r(6,17,"domain.auth.pages.login.loginSubtitle")),t(2),c("nzLayout","vertical")("formGroup",p.validateForm),t(3),f(r(11,19,"domain.auth.pages.login.labelEmail")),t(2),c("nzErrorTip",s),t(),c("placeholder",I(r(14,21,"domain.auth.pages.login.placeholderEmail"))),t(6),f(r(20,23,"domain.auth.pages.login.labelPassword")),t(2),c("nzErrorTip",g),t(8),c("nzLoading",p.isLoading)("disabled",!p.validateForm.valid||p.isLoading),t(),v(" ",r(31,25,"domain.auth.pages.login.buttonLogin")," "),t(4),v(" ",r(35,27,"domain.auth.pages.login.textCreateAccount")," "),t(3),v(" ",r(38,29,"domain.auth.pages.login.linkCreateAccount")," ")}},dependencies:[F,A,w,y,B,M,D,P,k,ee,J,H,X,Q,Z,Y,le,K,$,ae,re,te,oe,ie,W,U,G,j,q,V,ne,me,O,de,ue,fe,ge,ce],encapsulation:2})};export{Ne as LoginPageComponent};
