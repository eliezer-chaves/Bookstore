import{V as Q,W as V,g as B,v as U,x as v}from"./chunk-Y4DAISNR.js";import{Bb as S,Ga as k,Kb as p,Lb as h,Nc as K,O as w,Qb as j,Rb as d,Sb as c,Tb as R,Z as x,_ as z,ad as P,d as g,db as s,dd as y,ed as Y,ga as I,gc as u,h as _,ha as D,hc as A,ic as $,l as C,la as m,m as E,q as M,qc as F,r as T,sc as f,t as b,vb as O,vc as G,wa as N,wb as L,wc as H,za as l}from"./chunk-V2D463I6.js";var ee=["*"];function te(n,e){n&1&&(d(0,"span",2),R(1,"i",3)(2,"i",3)(3,"i",3)(4,"i",3),c())}function ne(n,e){}function ie(n,e){if(n&1&&(d(0,"div",6),G(1),c()),n&2){let t=u(2);s(),H(t.nzTip)}}function ae(n,e){if(n&1&&(d(0,"div")(1,"div",4),S(2,ne,0,0,"ng-template",5),p(3,ie,2,1,"div",6),c()()),n&2){let t=u(),i=F(1);s(),f("ant-spin-rtl",t.dir==="rtl")("ant-spin-lg",t.nzSize==="large")("ant-spin-sm",t.nzSize==="small")("ant-spin-show-text",t.nzTip),s(),j("ngTemplateOutlet",t.nzIndicator||i),s(),h(t.nzTip?3:-1)}}function oe(n,e){if(n&1&&(d(0,"div",7),$(1),c()),n&2){let t=u();f("ant-spin-blur",t.isLoading())}}var W="spin",ze=(()=>{var i;let n,e=[],t=[];return i=class{_nzModuleName=W;cdr=m(P);directionality=m(U);destroyRef=m(N);nzIndicator=T(this,e,null);nzSize=(T(this,t),"default");nzTip=null;nzDelay=0;nzSimple=!1;nzSpinning=!0;spinning$=new C(this.nzSpinning);delay$=new E(1);isLoading=l(!1);dir="ltr";constructor(){Q(W,()=>this.cdr.markForCheck())}ngOnInit(){this.delay$.pipe(x(this.nzDelay),w(),z(a=>this.spinning$.pipe(z(o=>a===0||!o?b(o):new _(r=>{let J=setTimeout(()=>r.next(o),a);return()=>clearTimeout(J)})))),v(this.destroyRef)).subscribe(a=>{this.isLoading.set(a)}),this.directionality.change?.pipe(v(this.destroyRef)).subscribe(a=>{this.dir=a,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(a){let{nzSpinning:o,nzDelay:r}=a;o&&this.spinning$.next(this.nzSpinning),r&&this.delay$.next(this.nzDelay)}},(()=>{let a=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[V()],M(null,null,n,{kind:"field",name:"nzIndicator",static:!1,private:!1,access:{has:o=>"nzIndicator"in o,get:o=>o.nzIndicator,set:(o,r)=>{o.nzIndicator=r}},metadata:a},e,t),a&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),g(i,"\u0275fac",function(o){return new(o||i)}),g(i,"\u0275cmp",O({type:i,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(o,r){o&2&&f("ant-spin-nested-loading",!r.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:[2,"nzDelay","nzDelay",Y],nzSimple:[2,"nzSimple","nzSimple",y],nzSpinning:[2,"nzSpinning","nzSpinning",y]},exportAs:["nzSpin"],features:[k],ngContentSelectors:ee,decls:4,vars:2,consts:[["defaultTemplate",""],[1,"ant-spin-container",3,"ant-spin-blur"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin","ant-spin-spinning"],[3,"ngTemplateOutlet"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(o,r){o&1&&(A(),S(0,te,5,0,"ng-template",null,0,K),p(2,ae,4,10,"div"),p(3,oe,2,2,"div",1)),o&2&&(s(2),h(r.isLoading()?2:-1),s(),h(r.nzSimple?-1:3))},dependencies:[B],encapsulation:2})),i})(),Se=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=L({type:n});static \u0275inj=D({})}return n})();var q=class n{THEME_STORAGE_KEY="app-theme";theme=l("default");isLoadingTheme=l(!1);constructor(){this.initializeTheme()}initializeTheme(){let e=this.getStoredTheme(),t=this.getSystemTheme(),i=e||t;this.theme.set(i),this.applyTheme(i,!1)}getStoredTheme(){try{let e=localStorage.getItem(this.THEME_STORAGE_KEY);if(e==="default"||e==="dark")return e}catch(e){console.warn("Erro ao ler tema do localStorage:",e)}return null}getSystemTheme(){return typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"}saveTheme(e){try{localStorage.setItem(this.THEME_STORAGE_KEY,e)}catch(t){console.warn("Erro ao salvar tema no localStorage:",t)}}toggleTheme(){let e=this.theme()==="default"?"dark":"default";this.theme.set(e),this.applyTheme(e,!0),this.saveTheme(e)}applyTheme(e,t=!0){t&&this.isLoadingTheme.set(!0);let i=document.querySelectorAll("link[data-theme]"),Z=document.head,a=document.createElement("link");a.rel="stylesheet",a.href=`/${e}.css`,a.setAttribute("data-theme",e),a.onload=()=>{i.forEach(o=>o.remove()),document.documentElement.classList.remove("default","dark"),document.documentElement.classList.add(e),t&&setTimeout(()=>{this.isLoadingTheme.set(!1)},300)},a.onerror=()=>{console.error(`Erro ao carregar tema: ${e}.css`),t&&this.isLoadingTheme.set(!1)},Z.appendChild(a)}watchSystemTheme(){typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{if(!this.getStoredTheme()){let i=t.matches?"dark":"default";this.theme.set(i),this.applyTheme(i,!1)}})}resetToSystemTheme(){try{localStorage.removeItem(this.THEME_STORAGE_KEY);let e=this.getSystemTheme();this.theme.set(e),this.applyTheme(e,!0)}catch(e){console.warn("Erro ao resetar tema:",e)}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};export{ze as a,Se as b,q as c};
